{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["//*1\n// const STORAGE_KEY = 'feedback-form-state';\n\n// const form = document.querySelector('.feedback-form');\n// const textarea = form.querySelector('textarea');\n\n// form.addEventListener('submit', handleSubmit);\n// textarea.addEventListener('input', onTextareaInput);\n\n// populateTextarea();\n\n// function handleSubmit(event) {\n//   event.preventDefault();\n\n//   console.log('send');\n//   event.currentTarget.reset();\n//   localStorage.removeItem(STORAGE_KEY);\n// }\n\n// function onTextareaInput(event) {\n//   const message = event.target.value;\n//   localStorage.setItem(STORAGE_KEY, message);\n// }\n\n// function populateTextarea() {\n//   const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n//   if (savedMessage) {\n//     textarea.value = savedMessage;\n//   }\n// }\n\n//*2\n// document.addEventListener('DOMContentLoaded', function () {\n//   const form = document.querySelector('.feedback-form');\n\n//   form.addEventListener('input', function (event) {\n//     const formData = {\n//       email: form.elements.email.value.trim(),\n//       message: form.elements.message.value.trim(),\n//     };\n//     localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n//   });\n\n//   const storedFormData = JSON.parse(\n//     localStorage.getItem('feedback-form-state')\n//   );\n//   if (storedFormData) {\n//     form.elements.email.value = storedFormData.email;\n//     form.elements.message.value = storedFormData.message;\n//   }\n\n//   form.addEventListener('submit', function (event) {\n//     event.preventDefault();\n\n//     const email = form.elements.email.value.trim();\n//     const message = form.elements.message.value.trim();\n\n//     if (email && message) {\n//       console.log({ email, message });\n//       localStorage.removeItem('feedback-form-state');\n\n//       form.elements.email.value = '';\n//       form.elements.message.value = '';\n//     }\n//   });\n// });\n\n//*3\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\n\ntextarea.addEventListener('input', onInputData);\nform.addEventListener('submit', onFormSubmit);\n\nlet dataForm = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\nconst { email, message } = form.elements;\nreloadPage();\n\nfunction onInputData(event) {\n  dataForm = {\n    email: form.elements.email.value.trim(),\n    message: form.elements.message.value.trim(),\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForm));\n}\n\nfunction reloadPage() {\n  if (dataForm) {\n    email.value = dataForm.email || '';\n    message.value = dataForm.message || '';\n  }\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log({ email: email.value, message: message.value });\n\n  if (email.value === '' || message.value === '') {\n    return alert(`Будь ласка, заповніть всі поля.`);\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n  dataForm = {};\n}\n"],"names":["STORAGE_KEY","form","textarea","onInputData","onFormSubmit","dataForm","email","message","reloadPage","event"],"mappings":"wFAqEA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EAE9CC,EAAS,iBAAiB,QAASC,CAAW,EAC9CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQL,CAAW,CAAC,GAAK,GAChE,KAAM,CAAE,MAAAM,EAAO,QAAAC,GAAYN,EAAK,SAChCO,IAEA,SAASL,EAAYM,EAAO,CAC1BJ,EAAW,CACT,MAAOJ,EAAK,SAAS,MAAM,MAAM,KAAM,EACvC,QAASA,EAAK,SAAS,QAAQ,MAAM,KAAM,CAC/C,EACE,aAAa,QAAQD,EAAa,KAAK,UAAUK,CAAQ,CAAC,CAC5D,CAEA,SAASG,GAAa,CAChBH,IACFC,EAAM,MAAQD,EAAS,OAAS,GAChCE,EAAQ,MAAQF,EAAS,SAAW,GAExC,CAEA,SAASD,EAAaK,EAAO,CAI3B,GAHAA,EAAM,eAAc,EACpB,QAAQ,IAAI,CAAE,MAAOH,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAEtDD,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,iCAAiC,EAGhD,aAAa,WAAWP,CAAW,EACnCS,EAAM,cAAc,QACpBJ,EAAW,CAAA,CACb"}